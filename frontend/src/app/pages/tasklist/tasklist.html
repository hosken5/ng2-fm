<!--<div class="panel panel-default">-->
    <!--<div class="panel-body">-->
        <!--<form action="">-->
            <!--&lt;!&ndash;<button class="btn btn-xs">helo</button>&ndash;&gt;-->
            <!--&lt;!&ndash;<button class="btn btn-sm">helo</button>&ndash;&gt;-->
        <!--</form>-->
    <!--</div>-->
<!--</div>-->

<div class="panel panel-default">
    <!-- Default panel contents -->
    <!--<div class="panel-heading">任务列表</div>-->
    <!--<div class="panel-body">-->
        <table class="table  table-striped table-hover table-condensed">
            <tr>
                <td>id</td>
                <td>名称</td>
                <td>触发方式</td>
                <td>描述</td>
                <td>资源</td>
                <td>开始时间</td>
                <td>创建时间</td>
                <td>状态</td>
                <td>操作</td>
            </tr>
            <tr *ngFor="let task of tasks">
                <td>{{task.id}}</td>
                <td><a href="javascript:void(0);" (click)="gotoTaskLog(task)">{{task.taskname}}</a></td>
                <td>
                    <span *ngIf= "task.triggertype=='1'">cron:{{task.cron}}</span>
                    <span *ngIf="task.triggertype=='2'">
                        每{{task.time}}
                        <span *ngIf="task.timeunit=='sec'">秒</span>
                        <span *ngIf="task.timeunit=='min'">分</span>
                        <span *ngIf="task.timeunit=='our'">时</span>
                        <span *ngIf="task.timeunit=='day'">天</span>
                       ,开始:{{task.startHour}}时{{task.startMin}}分{{task.startSec}}秒
                    </span>
                </td>
                <td>{{task.description}}</td>
                <td>{{task.resource}}</td>
                <td>{{task.starttime}}</td>
                <td>{{task.createtime}}</td>
                <td>
                    <div *ngIf="task.status==1">运行中</div>
                    <div *ngIf="task.status==0">已停止</div>
                </td>
                <td>
                    <span *ngIf="task.status==1 &&  !task.stopping">
                        <a href="javascript:void(0);" (click)="stopTask(task)"   class="btn btn-default btn-hover-warning  btn-xs">停止</a>
                    </span>
                    <span *ngIf="task.status==1 &&  task.stopping">
                        <a href="javascript:void(0);" (click)="stopTask(task)"   class="btn btn-default btn-hover-warning  btn-xs disabled ">停止中</a>
                    </span>
                    <span *ngIf="task.status==0  && !task.starting">
                        <a href="javascript:void(0);" (click)="startTask(task)"   class="btn btn-default btn-xs  ">开启</a>
                    </span>
                    <span *ngIf="task.status==0 && task.starting">
                        <a href="javascript:void(0);" (click)="startTask(task)"   class="btn btn-default btn-xs  disabled  ">开启中</a>
                    </span>
                    <span>
                        <button
                                mwlConfirm
                                [title]="'确认删除'"
                                [message]="'删除将停止服务'"
                                [confirmText]="'确定<i class=\'glyphicon glyphicon-ok\'></i>'"
                                [cancelText]="'取消<i class=\'glyphicon glyphicon-remove\'></i>'"
                                (confirm)="deleteTask(task)"
                                (cancel)="cancelClicked = true"
                                confirmButtonType="danger btn-sm"
                                cancelButtonType="default btn-sm"
                                [appendToBody]="true"
                                class="btn btn-default btn-hover-danger  btn-xs" >删除</button>
                    </span>
                </td>
            </tr>
        </table>
</div>

<pagination [itemsPerPage]="itemsPerPage"  [totalItems]="totalItems" [(ngModel)]="currentPage" [maxSize]="maxSize"
            [boundaryLinks]="true" [rotate]="true" (numPages)="numPages = $event" (pageChanged)="pageChanged($event)" ></pagination>