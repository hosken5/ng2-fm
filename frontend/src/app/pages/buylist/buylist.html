<div class="panel panel-default">
    <!-- Default panel contents -->
    <!--<div class="panel-heading">任务列表</div>-->
    <!--<div class="panel-body">-->
        <table class="table  table-striped table-hover table-condensed">
            <tr>
                <td>id</td>
                <td>名称</td>
                <td>触发方式</td>
                <td>描述</td>
                <td>资源</td>
                <td>开始时间</td>
                <td>创建时间</td>
                <td>状态</td>
                <td>操作</td>
            </tr>
            <tr *ngFor="let coalbuy of coalbuys">
                <td>{{coalbuy.id}}</td>
                <td><a href="javascript:void(0);" (click)="gotoTaskLog(coalbuy)">{{coalbuy.coalbuyname}}</a></td>
                <td>
                    <span *ngIf= "coalbuy.triggertype=='1'">cron:{{coalbuy.cron}}</span>
                    <span *ngIf="coalbuy.triggertype=='2'">
                        每{{coalbuy.time}}
                        <span *ngIf="coalbuy.timeunit=='sec'">秒</span>
                        <span *ngIf="coalbuy.timeunit=='min'">分</span>
                        <span *ngIf="coalbuy.timeunit=='our'">时</span>
                        <span *ngIf="coalbuy.timeunit=='day'">天</span>
                       ,开始:{{coalbuy.startHour}}时{{coalbuy.startMin}}分{{coalbuy.startSec}}秒
                    </span>
                </td>
                <td>{{coalbuy.description}}</td>
                <td>{{coalbuy.resource}}</td>
                <td>{{coalbuy.starttime}}</td>
                <td>{{coalbuy.createtime}}</td>
                <td>
                    <div *ngIf="coalbuy.status==1">运行中</div>
                    <div *ngIf="coalbuy.status==0">已停止</div>
                </td>
                <td>
                    <span *ngIf="coalbuy.status==1 &&  !coalbuy.stopping">
                        <a href="javascript:void(0);" (click)="stopTask(coalbuy)"   class="btn btn-default btn-hover-warning  btn-xs">停止</a>
                    </span>
                    <span *ngIf="coalbuy.status==1 &&  coalbuy.stopping">
                        <a href="javascript:void(0);" (click)="stopTask(coalbuy)"   class="btn btn-default btn-hover-warning  btn-xs disabled ">停止中</a>
                    </span>
                    <span *ngIf="coalbuy.status==0  && !coalbuy.starting">
                        <a href="javascript:void(0);" (click)="startTask(coalbuy)"   class="btn btn-default btn-xs  ">开启</a>
                    </span>
                    <span *ngIf="coalbuy.status==0 && coalbuy.starting">
                        <a href="javascript:void(0);" (click)="startTask(coalbuy)"   class="btn btn-default btn-xs  disabled  ">开启中</a>
                    </span>
                    <span>
                        <button
                                mwlConfirm
                                [title]="'确认删除'"
                                [message]="'删除将停止服务'"
                                [confirmText]="'确定<i class=\'glyphicon glyphicon-ok\'></i>'"
                                [cancelText]="'取消<i class=\'glyphicon glyphicon-remove\'></i>'"
                                (confirm)="deleteTask(coalbuy)"
                                (cancel)="cancelClicked = true"
                                confirmButtonType="danger btn-sm"
                                cancelButtonType="default btn-sm"
                                [appendToBody]="true"
                                class="btn btn-default btn-hover-danger  btn-xs" >删除</button>
                    </span>
                </td>
            </tr>
        </table>
</div>

<pagination [itemsPerPage]="itemsPerPage"  [totalItems]="totalItems" [(ngModel)]="currentPage" [maxSize]="maxSize"
            [boundaryLinks]="true" [rotate]="true" (numPages)="numPages = $event" (pageChanged)="pageChanged($event)" ></pagination>